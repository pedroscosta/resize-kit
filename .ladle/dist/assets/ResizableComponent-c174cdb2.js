import{r as w,a as b,j as u}from"./index-c56941ef.js";const v={n:{x:0,y:1,w:0,h:-1},s:{x:0,y:0,w:0,h:1},e:{x:0,y:0,w:1,h:0},w:{x:1,y:0,w:-1,h:0},ne:{x:0,y:1,w:1,h:-1},nw:{x:1,y:1,w:-1,h:-1},se:{x:0,y:0,w:1,h:1},sw:{x:1,y:0,w:-1,h:1}},L=({onResizeStart:c,onResize:r,onResizeEnd:h,modifiers:t})=>{const[a,i]=w.useState();return{getHandleListeners:w.useCallback(n=>({onPointerDown:l=>{i({x:0,y:0,w:0,h:0});const f=JSON.parse(JSON.stringify(l.target.parentElement.getBoundingClientRect()));c&&c({event:l,handle:n});const g=o=>{const e={x:o.clientX-l.clientX,y:o.clientY-l.clientY},s=v[n],y={x:s.x*e.x,y:s.y*e.y,w:s.w*e.x,h:s.h*e.y};return{delta:e,newTransform:t?t.reduce((m,k)=>k({activatorEvent:l,delta:e,event:o,transform:m,target:l.target,originalRect:f}),y):y}},p=o=>{const{delta:e,newTransform:s}=g(o);r&&r({delta:e,event:o,transform:s,handle:n}),i(s)},x=o=>{document.removeEventListener("pointermove",p),document.removeEventListener("pointerup",x);const{delta:e,newTransform:s}=g(o);h&&h({event:o,delta:e,transform:s,handle:n}),i(void 0)};document.addEventListener("pointermove",p),document.addEventListener("pointerup",x)}}),[c,r,h]),transform:a}},T=({modifiers:c})=>{const[r,h]=w.useState({left:0,top:0,width:150,height:150}),{transform:t,getHandleListeners:a}=L({onResizeEnd:({transform:d})=>{h(n=>({left:n.left+(d.x??0),top:n.top+(d.y??0),width:n.width+(d.w??0),height:n.height+(d.h??0)}))},modifiers:c}),i=w.useMemo(()=>({left:r.left+((t==null?void 0:t.x)??0),top:r.top+((t==null?void 0:t.y)??0),width:r.width+((t==null?void 0:t.w)??0),height:r.height+((t==null?void 0:t.h)??0)}),[t]);return b("div",{style:{...i,border:"1px solid black",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",userSelect:"none"},children:[b("p",{children:[Math.round(i.width),"px x ",Math.round(i.height),"px"]}),u("div",{style:{position:"absolute",right:5,top:"50%",width:5,height:50,cursor:"e-resize",background:"black",transform:"translate(0, -50%)"},...a("e")}),u("div",{style:{position:"absolute",left:5,top:"50%",width:5,height:50,cursor:"w-resize",background:"black",transform:"translate(0, -50%)"},...a("w")}),u("div",{style:{position:"absolute",bottom:5,left:"50%",width:50,height:5,cursor:"s-resize",background:"black",transform:"translate(-50%, 0)"},...a("s")}),u("div",{style:{position:"absolute",top:5,left:"50%",width:50,height:5,cursor:"n-resize",background:"black",transform:"translate(-50%, 0)"},...a("n")})]})};export{T as R};
